<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />    
    <meta name="author" content="Vu Minh Khue"/>
    
    <title>Water Spinach</title>

    <link rel="stylesheet" href="/theme/css/foundation.min.css" />
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css"/>
    <link rel="stylesheet" href="/theme/css/foundation-icons.css"/>
    
    <!-- Feeds -->

    <script src="/theme/js/vendor/modernizr.js"></script>

    <!-- Font Google Droid -->
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700|Droid+Sans+Mono|Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

    <!-- Google Analytics -->
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34233563-1']);
  _gaq.push(['_trackPageview']);
  _gaq.push(['_gat._anonymizeIp']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  </head>
  <body>
    
     
  <div class="off-canvas-wrap">
    <div class="inner-wrap">
      <!-- Mobile Navigation -->
      <nav class="tab-bar show-for-small-only">
        <section class="left-small show-for-small-only">
          <a class="left-off-canvas-toggle menu-icon"><span></span></a>
        </section>

        <section class="middle tab-bar-section">
          <h1 class="title">Water Spinach</h1>
        </section>

        <section class="right-small">
          <a class="right-off-canvas-toggle menu-icon"><span></span></a>
        </section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li  class="active" ><a href="../../../category/Programming.html">Programming</a></li>
          <li ><a href="../../../category/Random.html">Random</a></li>
          <li><a href="../../../archive.html">Archive</a>  </li>
          <li><a href="#">About Me</a></li>
        </ul>

      </aside>

      <aside class="right-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Tags</label></li>
          <li><a href="../../../tag/tunnel.html">tunnel</a></li>
          <li><a href="../../../tag/spring.html">spring</a></li>
          <li><a href="../../../tag/tutorial.html">tutorial</a></li>
          <li><a href="../../../tag/firewall.html">firewall</a></li>
          <li><a href="../../../tag/mysql.html">mysql</a></li>
          <li><a href="../../../tag/hibernate.html">hibernate</a></li>
          <li><a href="../../../tag/tcp.html">tcp</a></li>
          <li><a href="../../../tag/http.html">http</a></li>
          <li><a href="../../../tag/tunneling.html">tunneling</a></li>
          <li><a href="../../../tag/javascript.html">javascript</a></li>
          <li><a href="../../../tag/firefox.html">firefox</a></li>
          <li><a href="../../../tag/python.html">python</a></li>
          <li><a href="../../../tag/scalability.html">scalability</a></li>
          <li><a href="../../../tag/encoding.html">encoding</a></li>
          <li><a href="../../../tag/pygame.html">pygame</a></li>
          <li><a href="../../../tag/java.html">java</a></li>
          <li><a href="../../../tag/replication.html">replication</a></li>
          <li><a href="../../../tag/optimization.html">optimization</a></li>
          <li><a href="../../../tag/nexus.html">nexus</a></li>
          <li><a href="../../../tag/facebook graph.html">facebook graph</a></li>
          <li><a href="../../../tag/android.html">android</a></li>
        </ul>
      </aside>

      <!-- Medium or Wide Screen Navigation -->
      <nav class="top-bar hide-for-small-only" data-topbar>
        <ul class="title-area">
          <li class="name">
            <h1><a href="../../..">Water Spinach</a></h1>
          </li>
        </ul>

        <section class="top-bar-section">
          <ul class="left">
            <li  class="active" ><a href="../../../category/Programming.html">Programming</a></li>
            <li ><a href="../../../category/Random.html">Random</a></li>
            <li><a href="../../../archive.html">Archive</a>  </li>
            <li><a href="#">About Me</a></li>
          </ul>
        </section>
      </nav>

      <section class="main-section">
        <div class="row">
          <!-- Main Content -->
          <div class="small-12 medium-9 columns" role="content">
<article>
  <h2>Bypass port block by firewall with&nbsp;Tor</h2>
  <p>Your network adminstrator often configure the firewall to only allow certain port for outgoing <span class="caps">TCP</span> connection like 80 (<span class="caps">HTTP</span>), 443 (<span class="caps">HTTPS</span>), 22 (<span class="caps">SSH</span>)</p>
<p>It is a problem if you are using other protocol to communicate to outside world, for example, <span class="caps">IRC</span>,&nbsp;git. </p>
<p>One solution is to find an alternative endpoint (use https for git, webchat programs for irc), but they are not always&nbsp;available. </p>
<p>The second solution is to have a generic program to wrap your packages in another <span class="caps">TCP</span> connection using an allowed port; and have a server of yours outside the firewall, listening on that port, unwrap the connection to get the original packages and send it using the desired protocol. This method is called tunneling, you can use existing program like <span class="caps">SSH</span>. I have written a <a href="http://khuevu.github.io/2012/09/17/http-tunnel.html">tunnel program</a> using <span class="caps">HTTP</span>&nbsp;connection. </p>
<p>But what if you don&#8217;t have a server outside of the&nbsp;firewall? </p>
<p>The solution I want to discuss here is using Tor client and leverage on their network of Tor&nbsp;bridges.</p>
<p>First, Download Tor <a href="https://www.torproject.org/download/download-easy.html.en">here</a></p>
<p>Go to the installation folder. In your <code>./Data/Tor/torrc</code> config file, update these&nbsp;entry: </p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre>ReachableAddresses *:80,*:443
ReachableAddresses reject *:*
SocksListenAddress 127.0.0.1
SocksPort 9150
</pre></div>
</td></tr></table>

<p>The ReachableAddresses are addresses your firewall allows you to connect. 
<code>SocksListenAddress</code> and <code>SocksPort</code> are the host and port your Tor client listens on. Data sent here will be route to the Tor network using one of the reachable addresses and then to the desired&nbsp;destination. </p>
<p>You can add the proxy information if you uses a proxy here as&nbsp;well. </p>
<p>The last step is to start Tor client by running the script in the installation&nbsp;folder. </p>
<p>The point of this article is to rely on existing tor network instead of setting your own external server. I think, however, Tor is a project with great cause. So consider contributing to the project by adding your Tor relay server to the network too: <a href="https://cloud.torproject.org">https://cloud.torproject.org</a></p>
  <hr/>
  <h6>Written by <a href="../../../author/vu-minh-khue.html">Vu Minh Khue</a> in <a href="../../../category/Programming.html">Programming</a> on Sat 20 April 2013. Tags: <a href="../../../tag/firewall.html">firewall</a>, <a href="../../../tag/tunnel.html">tunnel</a>, </h6>
</article>

<hr/>
<div class="row">
  <div class="small-12 columns">
    <h3>Comments</h3>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_shortname = 'waterspinach';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</div>
          </div>

          <!-- Side Panels for Medium or Wide Screen -->
          <aside class="hide-for-small-only medium-3 columns">
            <div class="panel">
            <div>
              <!-- Pelican's tag cloud -->
              <label>Tags</label>
              <ul class="tagcloud">
                <li class="tag-4"><a href="../../../tag/tunnel.html">tunnel</a></li>
                <li class="tag-4"><a href="../../../tag/spring.html">spring</a></li>
                <li class="tag-4"><a href="../../../tag/tutorial.html">tutorial</a></li>
                <li class="tag-4"><a href="../../../tag/firewall.html">firewall</a></li>
                <li class="tag-1"><a href="../../../tag/mysql.html">mysql</a></li>
                <li class="tag-2"><a href="../../../tag/hibernate.html">hibernate</a></li>
                <li class="tag-4"><a href="../../../tag/tcp.html">tcp</a></li>
                <li class="tag-4"><a href="../../../tag/http.html">http</a></li>
                <li class="tag-4"><a href="../../../tag/tunneling.html">tunneling</a></li>
                <li class="tag-4"><a href="../../../tag/javascript.html">javascript</a></li>
                <li class="tag-4"><a href="../../../tag/firefox.html">firefox</a></li>
                <li class="tag-1"><a href="../../../tag/python.html">python</a></li>
                <li class="tag-2"><a href="../../../tag/scalability.html">scalability</a></li>
                <li class="tag-4"><a href="../../../tag/encoding.html">encoding</a></li>
                <li class="tag-4"><a href="../../../tag/pygame.html">pygame</a></li>
                <li class="tag-2"><a href="../../../tag/java.html">java</a></li>
                <li class="tag-4"><a href="../../../tag/replication.html">replication</a></li>
                <li class="tag-4"><a href="../../../tag/optimization.html">optimization</a></li>
                <li class="tag-4"><a href="../../../tag/nexus.html">nexus</a></li>
                <li class="tag-4"><a href="../../../tag/facebook graph.html">facebook graph</a></li>
                <li class="tag-2"><a href="../../../tag/android.html">android</a></li>
              </ul>
            </div>

            <div>
              <!-- Pelican's tag cloud -->
              <label>Archives</label>
              <ul class="side-nav">
                  <li>
                    <a href="/posts/2012">2012 (7)</a>
                  </li>
                  <li>
                    <a href="/posts/2013">2013 (5)</a>
                  </li>
              </ul>
            </div>

            <div>
              <label>Links</label>              
              <ul class="side-nav">

              </ul>
            </div>
          </div>
          </aside>
        </div>
        

      </section>

      <footer class="row">
        <div class="small-12 medium-9 columns">
          <hr/>
          <p class="text-center">
            Powered by <a href="http://getpelican.com">Pelican</a> and
            <a href="http://foundation.zurb.com/">Zurb Foundation</a>.
          </p>
        </div>
      </footer>

      <a class="exit-off-canvas"></a>
    </div>
  </div>
 
 
  <!-- Main Page Content and Sidebar -->
 
 

  <!-- Just before closing body tag -->
  <script src="/theme/js/vendor/jquery.js"></script> 
  <script src="/theme/js/vendor/fastclick.js"></script>
  <script src="/theme/js/foundation/foundation.min.js"></script>
  <script> $(document).foundation(); </script>  
  </body>
</html>